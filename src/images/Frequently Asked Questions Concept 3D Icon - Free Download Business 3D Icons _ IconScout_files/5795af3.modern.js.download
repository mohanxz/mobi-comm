(window.webpackJsonp=window.webpackJsonp||[]).push([[354,372,471],{1257:function(t,e,o){"use strict";var n=o(8),r=o(364),l=o.n(r),d=o(1258),c=o(1439);Object(d.d)({en:c}),e.a={components:{ValidationObserver:d.a,ValidationProvider:d.b},data:()=>({isLoading:!1}),methods:{validate(){var t=this;return Object(n.a)((function*(){if(!(yield t.$refs.observer.validate())){var title=l()(t.$refs.observer.errors,(t=>t.length))[0]||"Please check all fields";return t.$root.$bvToast.toast(title,{title:title,variant:"danger",toaster:"b-toaster-bottom-center",solid:!1,noAutoHide:!1,bodyClass:"d-none"}),!1}return!0}))()},onError(t){console.error(t);var title=null;t.response&&t.response.data?t.response.data.elements?(title=Object.values(t.response.data.elements)[0],this.$refs.observer&&this.$refs.observer.setErrors(t.response.data.elements)):t.response.data.message&&(title=t.response.data.message):title=t.message||"Oops, Something went wrong!",this.$root.$bvToast.toast(title,{title:title,variant:"danger",toaster:"b-toaster-bottom-center",solid:!1,noAutoHide:!1,bodyClass:"d-none"})}}}},1293:function(t,e,o){"use strict";o.d(e,"a",(function(){return c}));var n=o(9),r=o(10),l=o(74);function d(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}var c=(t,e,o)=>{if(t=t?t.$el||t:null,!Object(r.p)(t))return null;if(Object(l.b)("observeDom"))return null;var c=new r.a((t=>{for(var o=!1,i=0;i<t.length&&!o;i++){var n=t[i],r=n.type,l=n.target;("characterData"===r&&l.nodeType===Node.TEXT_NODE||"attributes"===r||"childList"===r&&(n.addedNodes.length>0||n.removedNodes.length>0))&&(o=!0)}o&&e()}));return c.observe(t,function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?d(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):d(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({childList:!0,subtree:!0},o)),c}},1331:function(t,e,o){t.exports=o.p+"img/crown-gold.0b35b6a.svg"},1513:function(t,e,o){var content=o(2880);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(40).default)("23bc5d52",content,!0,{sourceMap:!1})},1604:function(t,e,o){"use strict";o.d(e,"a",(function(){return n})),o.d(e,"b",(function(){return r}));var n=(t,e)=>{var label={button:"",badge:null};switch(t){case"png":label.button="Customize PNG";break;case"json":label.button="Lottie JSON";break;case"gif":label.button="Transparent GIF";break;case"lottie":label.button="dotLottie";break;case"tgs":label.button="Telegram Animated Sticker";break;case"blend":label.button="Blender file";break;case"ai":label.button="Illustrator file (AI)";break;case"aep":label.button="Adobe After Effects (AEP)";break;case"gltf":label.button="glTF";break;case"watermark-png":label.button="Watermark PNG";break;case"watermark-mp4":label.button="Watermark MP4";break;default:label.button=t.toUpperCase()}return"lottie"===e?"json"===t&&(label.badge="RECOMMENDED"):"3d"===e?"gltf"!==t&&"glb"!==t||(label.badge="RECOMMENDED"):"svg"===t&&(label.badge="RECOMMENDED"),label},r=(t,e)=>{var label={button:"",badge:null};switch(t){case"png":label.button="PNG";break;case"json":label.button="Lottie JSON";break;case"gif":label.button="GIF";break;case"lottie":label.button="dotLottie";break;case"tgs":label.button="Telegram Animated Sticker";break;case"blend":label.button="Blender file";break;case"ai":label.button="Illustrator file (AI)";break;case"aep":label.button="Adobe After Effects (AEP)";break;case"gltf":label.button="glTF";break;case"watermark-png":label.button="Watermark PNG";break;case"watermark-mp4":label.button="Watermark MP4";break;default:label.button=t.toUpperCase()}return"lottie"===e?"json"===t&&(label.badge="RECOMMENDED"):"3d"===e?"gltf"!==t&&"glb"!==t||(label.badge="RECOMMENDED"):"svg"===t&&(label.badge="RECOMMENDED"),label}},2721:function(t,e,o){var content=o(3440);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(40).default)("35793481",content,!0,{sourceMap:!1})},2722:function(t,e,o){var content=o(3442);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(40).default)("6d18f5ed",content,!0,{sourceMap:!1})},2725:function(t,e,o){"use strict";var n={props:{width:{type:String,default:null},height:{type:String,default:null},backgroundColor:{type:String,default:"#F8FAFF"}}},r=o(2879),l=o(7);var component=Object(l.a)(n,(function(){var t=this,e=t._self._c;return e("div",{class:t.$style.container,style:{width:t.width,height:t.height,backgroundColor:t.backgroundColor}},[e("div")])}),[],!1,(function(t){this.$style=r.default.locals||r.default}),null,null);e.a=component.exports},2728:function(t,e,o){"use strict";var n=o(8),r=o(1197),l=o(1258),d=o(1277),c=o(1648),m=o(1257);Object(l.c)("required",d.f),Object(l.c)("numeric",d.e),Object(l.c)("min_value",d.d);var f={components:{SlideYUpTransition:c.a,UilTimes:r.a},mixins:[m.a],props:{loadingFormat:{type:String,default:null},aspectRatio:{type:Number,default:1},format:{type:String,default:"png"}},data:()=>({customWidth:null,customHeight:null}),methods:{setCustomHeight(t){this.customHeight=this.calculateHeight(t.target.value)},setCustomWidth(t){this.customWidth=Math.round(t.target.value*this.aspectRatio)},calculateHeight(t){return Math.round(t/this.aspectRatio)},onSubmit(){var t=this;return Object(n.a)((function*(){try{(yield t.validate())&&t.$emit("download",{format:t.format,size:{width:t.customWidth,height:t.customHeight}})}catch(e){t.onError(e)}}))()},onError(t){var title=t||"Something went wrong please try again later or contact our support team";this.$root.$bvToast.toast(title,{title:title,variant:"danger",toaster:"b-toaster-bottom-center",solid:!1,noAutoHide:!0,bodyClass:"d-none"})}}},h=o(7),component=Object(h.a)(f,(function(){var t=this,e=t._self._c;return e("slide-y-up-transition",[e("div",{staticClass:"mt-3"},[e("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(o){var{valid:n}=o;return[e("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"mr-3"},[e("validation-provider",{attrs:{rules:"required|numeric|min_value:1",name:"width"},scopedSlots:t._u([{key:"default",fn:function(o){var{failed:n}=o;return[e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.customWidth,expression:"customWidth",modifiers:{number:!0}}],class:["form-control form-control-sm",n?"is-invalid":null],attrs:{type:"number",placeholder:"W"},domProps:{value:t.customWidth},on:{input:[function(e){e.target.composing||(t.customWidth=t._n(e.target.value))},t.setCustomHeight],blur:function(e){return t.$forceUpdate()}}})]}}],null,!0)})],1),t._v(" "),e("div",{staticClass:"d-flex justify-content-center align-items-center mr-3"},[e("uil-times",{attrs:{size:"20"}})],1),t._v(" "),e("div",{staticClass:"mr-3"},[e("validation-provider",{attrs:{rules:"required|numeric|min_value:1",name:"height"},scopedSlots:t._u([{key:"default",fn:function(o){var{failed:n}=o;return[e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.customHeight,expression:"customHeight",modifiers:{number:!0}}],class:["form-control form-control-sm input-sm",n?"is-invalid":null],attrs:{type:"number",placeholder:"H"},domProps:{value:t.customHeight},on:{input:[function(e){e.target.composing||(t.customHeight=t._n(e.target.value))},t.setCustomWidth],blur:function(e){return t.$forceUpdate()}}})]}}],null,!0)})],1),t._v(" "),e("button",{class:["btn btn-primary btn-sm",t.loadingFormat===t.format?"ajax-loading-light disabled":null],attrs:{disabled:t.loadingFormat===t.format||!n,type:"submit"}},[t._v("\n            "+t._s(t.$t("buttons.download"))+"\n          ")])])])]}}])})],1)])}),[],!1,null,null,null);e.a=component.exports},2879:function(t,e,o){"use strict";var n=o(1513),r=o.n(n);o.d(e,"default",(function(){return r.a}))},2880:function(t,e,o){var n=o(39)((function(i){return i[1]}));n.push([t.i,".container_wk6uT{margin-bottom:2px;display:flex;border-radius:12px}.container_wk6uT div{background:#EBEDF5;height:20px;width:50px;margin:20px}\n",""]),n.locals={container:"container_wk6uT"},t.exports=n},3439:function(t,e,o){"use strict";var n=o(2721),r=o.n(n);o.d(e,"default",(function(){return r.a}))},3440:function(t,e,o){var n=o(39)((function(i){return i[1]}));n.push([t.i,".hook_FlHkj{background-color:#F5F6FA;padding:1.125rem 1.5rem}.hook_FlHkj .lottie_0La7n{background-color:white;border-radius:4px;width:60px;height:60px}.hook_FlHkj .title_T3z2R{font-weight:600}.hook_FlHkj .description_HUbVE{font-size:12px;max-width:279px;line-height:125%}\n",""]),n.locals={hook:"hook_FlHkj",lottie:"lottie_0La7n",title:"title_T3z2R",description:"description_HUbVE"},t.exports=n},3441:function(t,e,o){"use strict";var n=o(2722),r=o.n(n);o.d(e,"default",(function(){return r.a}))},3442:function(t,e,o){var n=o(39)((function(i){return i[1]}));n.push([t.i,'.modal_Eb5fm .modalBody_CbNdl{padding:0}.modal_Eb5fm .wrapper_M3eTW .items_X5alX{max-height:340px;overflow-x:hidden;overflow-y:auto}.modal_Eb5fm .wrapper_M3eTW .items_X5alX .item_S3OUE:not(:last-child){box-shadow:0 1px 1px #EBEDF5}.modal_Eb5fm .wrapper_M3eTW .items_X5alX .whiteButton_XJf-n{background-color:#fff;text-align:left;font-weight:400;color:#424866;margin-bottom:2px;border-radius:8px}.modal_Eb5fm .wrapper_M3eTW .items_X5alX .whiteButton_XJf-n:hover{background-color:#EBEDF5}.modal_Eb5fm .wrapper_M3eTW .items_X5alX .whiteButton_XJf-n:focus{box-shadow:none}.modal_Eb5fm .wrapper_M3eTW .items_X5alX .downloadOptions_fbD4D{grid-row:2;grid-column:1 / span 4;background:#FAFAFC;color:#000;border-radius:8px;position:relative;text-align:center}@media (max-width: 1023.98px){.modal_Eb5fm .wrapper_M3eTW .items_X5alX .downloadOptions_fbD4D{grid-column:1 / span 2}}.modal_Eb5fm .wrapper_M3eTW .items_X5alX .downloadOptions_fbD4D:before{content:"";position:absolute;display:block;height:6px;width:6px;transform:rotateZ(45deg);border-top:2px solid #EBEDF5;border-right:2px solid transparent;border-bottom:2px solid transparent;border-left:2px solid #EBEDF5;left:40%;top:-2px;margin-left:-2px}.modal_Eb5fm .wrapper_M3eTW .items_X5alX .downloadOptions_fbD4D .sizesDiv_VRpoU{display:flex;background:#FAFAFC}.modal_Eb5fm .wrapper_M3eTW .items_X5alX .downloadOptions_fbD4D .sizesDiv_VRpoU .sizeBtn_F-qEA{padding-left:3px;padding-right:3px;flex-grow:1;border-color:#EBEDF5;color:#424866;font-weight:normal}.modal_Eb5fm .wrapper_M3eTW .download_WOXzf{background-color:#fff;box-shadow:0 -1px 1px #EBEDF5}\n',""]),n.locals={modal:"modal_Eb5fm",modalBody:"modalBody_CbNdl",wrapper:"wrapper_M3eTW",items:"items_X5alX",item:"item_S3OUE",whiteButton:"whiteButton_XJf-n",downloadOptions:"downloadOptions_fbD4D",sizesDiv:"sizesDiv_VRpoU",sizeBtn:"sizeBtn_F-qEA",download:"download_WOXzf"},t.exports=n},4375:function(t,e,o){"use strict";o.r(e);o(34),o(50);var n=o(9),r=o(8),l=(o(26),o(41),o(24),o(35),o(28),o(188),o(189),o(162),o(1201)),d=o(1199),c=o(5776),m=o(1323),f=o.n(m),h=o(2745),v=o.n(h),w=o(1648),_=o(367),y=o(1604),k=o(1220),O=o(25),x=o(185),j=o(2728),D=o(2725),E=o(1285),L=o(1381),C=(o(361),o(115)),F=o(1297);function $(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function S(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?$(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):$(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var z={components:{Lottie:o(183).default},mixins:[F.a,E.a],props:{item:{type:Object,default:()=>{}}},computed:{banner(){return this.banners[this.item.asset]},banners(){return{"3d":{lottie:"3dGltfBanner",title:this.$t("editor.gltf_3d_editor"),description:"Easily edit and create stunning 3D illustrations to bring your imagination to life.",cta:"Try now",to:S({name:"gltf-3d-editor"},this.item.formats.some((t=>["glb","gltf"].includes(t.name)))&&{query:{slug:this.item.identifier||this.item.slug,query:Object(C.a)(this.item.name)}})},lottie:{lottie:"LottieFilesLogoSquare",title:"LottieFiles workspace",description:"Easily implement animations on any platform.",cta:"Save to workspace"},illustration:{lottie:"IllustrationKitBannerVisual",title:"Illustration Kit",description:"Create and personalize illustrations in an endless number of combinations.",cta:"Learn more",to:{name:"illustration-kit"}}}}},methods:{onSaveToLF(){var t=this;return Object(r.a)((function*(){if(t.isLoggedIn&&t.canDownload)if(t.$store.state.settings.showSaveToWorkspaceModal)t.trackSaveToLf({postAction:"save-to-lf-modal"}),t.$modal.open({id:"modalSaveToLF",component:Promise.all([o.e(86),o.e(460)]).then(o.bind(null,5954)),options:{modalOnModal:!0,track:!0,extraTrackingData:{location_from:"download-modal-hook"}},props:{item:t.item}});else{t.trackSaveToLf({postAction:"forward-to-lf"});var e=null;e=t.$route.query.fileUrl?t.$route.query.fileUrl:yield t.preDownload({format:"json",url:!0,canBeBranded:!0});var n=Object(O.c)("".concat("https://app.lottiefiles.com","/preview"),{fileUrl:e,utm_source:"iconscout",utm_medium:"modalSaveToLF",name:t.item.name});window.open(n,"_blank","noopener")}else t.trackSaveToLf({postAction:"save-to-lf-learn-more-modal"}),t.$modal.open({id:"modalSaveToLfLearnMore",component:o.e(368).then(o.bind(null,5647)),options:{modalOnModal:!0,track:!0,extraTrackingData:{location_from:"download-modal-hook"}},props:{item:t.item}})}))()},trackSaveToLf(t){var{postAction:e}=t;this.$analytics.track("save-to-lf",{route_path:this.$route.path,route_name:this.$route.name,location:"download-modal-hook",action:"save-to-lf-cta",data:S({postAction:e},Object(k.a)(this,{item:this.item}))})}}},B=o(3439),P=o(7);var T=Object(P.a)(z,(function(){var t=this,e=t._self._c;return e("div",{class:["d-sm-flex d-none align-items-center",t.$style.hook]},[e("div",{class:t.$style.lottie},[e("lottie",{attrs:{height:60,width:60,observe:!1,"animation-name":t.banner.lottie,intermission:"0",speed:"1",loop:""}})],1),t._v(" "),e("div",{staticClass:"d-flex flex-column justify-content-center mr-5-5 ml-3"},[e("h5",{class:["mb-2",t.$style.title]},[t._v(t._s(t.banner.title))]),t._v(" "),e("span",{class:["text-muted",t.$style.description]},[t._v(t._s(t.banner.description))])]),t._v(" "),t.banner.to?e("nuxt-link",{directives:[{name:"track",rawName:"v-track",value:{data:{location:"download-modal-hook",item:t.banner.to.name}},expression:"{\n      data: { location: 'download-modal-hook', item: banner.to.name },\n    }"}],staticClass:"btn btn-primary",attrs:{to:t.banner.to,target:"_blank"}},[t._v("\n    "+t._s(t.banner.cta)+"\n  ")]):"lottie"===t.item.asset?e("button",{staticClass:"btn btn-primary ml-auto",attrs:{type:"button"},on:{click:t.onSaveToLF}},[t._v("\n    Save to workspace\n  ")]):t._e()],1)}),[],!1,(function(t){this.$style=B.default.locals||B.default}),null,null).exports;function M(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function A(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?M(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):M(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var U={components:{UilImport:l.a,BModal:c.a,NewBadge:x.a,CustomSizeInput:j.a,Square:D.a,DownloadHook:T,UilAngleDown:d.a,SlideYUpTransition:w.a},mixins:[L.a,E.a],props:{item:{type:Object,default:()=>{}},trackListName:{type:String,default:null},lFFileUrl:{type:String,default:null},canBranded:{type:Boolean,default:!1}},data:()=>({formats:[],isLoading:null,expandSizes:!1,showCustomSize:!1,pngSizes:[500,1e3],gifSizes:[500,1200]}),fetch(){var t=this;return Object(r.a)((function*(){if(t.item.formats&&t.item.formats.length)t.formats=t.item.formats.map((t=>t.name));else{var e=Object(O.c)("/api/v2/items/{slug}/available-relations",{slug:t.item.identifier||t.item.slug,lang:t.item.lang}),o=yield t.$axios.get(e);t.formats=o.data.response.formats.map((t=>t.name))}}))()},computed:{watermarkPreviewFormat(){return"lottie"===this.item.asset?"mp4":"png"},isBranded(){return this.canBranded&&this.$store.getters["brandPalettes/selectedPalette"]&&"3d"!==this.item.asset},brandedFormats(){return this.isBranded?{lottie:["json","lottie","gif","mp4"],illustration:["png","svg","eps","ai","jpg"]}[this.item.asset].filter((t=>{var e;return null===(e=this.refinedFormats)||void 0===e?void 0:e.includes(t)})):[]},aspectRatio(){return this.item.width/this.item.height},refinedFormats(){var t={lottie:["json","lottie","gif","mp4","aep","tgs","zip"],"3d":["png","blender","c4d","zip"],illustration:["png","svg","eps","zip"]},e=v()(this.formats,[e=>t[this.item.asset].includes(e),e=>t[this.item.asset].indexOf(e)],["desc","asc"]);return e},isBrandedLottie(){return!("lottie"!==this.item.asset||!["free-lotties","featured-lotties","latest-lotties","popular-lotties","exclusive-lotties","lottie-pack-slug","lotties-slug","dashboard-collections-slug","dashboard-downloads","contributors-username-assets","contributors-username-assets-slug"].includes(this.$route.name)||!this.$store.getters["brandPalettes/selectedPalette"])}},methods:{downloadButtonLabels:y.a,onClose(){this.lFFileUrl&&this.$emit("removeCustomUrl")},onDownload(t){var e=arguments,o=this;return Object(r.a)((function*(){var n=e.length>1&&void 0!==e[1]?e[1]:-1;o.handleDownload({name:"product-template",action:"download-btn",canBranded:o.canBranded,extraTrackingData:A(A({},t.size&&{size:t.size}),{},{format:t.format})},{openPricingInNewTab:!0})&&(o.lFFileUrl?o.downloadCustomLottie(t,n):o.isBrandedLottie?(o.isLoading=["png","gif"].includes(t.format)&&n>-1?"".concat(t.format,"-").concat(n):t.format,o.downloadBrandLottie(t)):(o.isLoading=["png","gif"].includes(t.format)&&n>-1?"".concat(t.format,"-").concat(n):t.format,yield o.preDownload(A(A({},t),{},{canBeBranded:"illustration"===o.item.asset,page:"PLP",location:"product-template"})),o.isLoading=null))}))()},downloadCustomLottie(t,e){try{this.isLoading="gif"===t.format&&e>-1?"".concat(t.format,"-").concat(e):t.format;var o="";o="json"===t.format?this.lFFileUrl:"lottie"===t.format?Object(O.c)("/lottie-optimizer",{format:"dotlottie",url:this.lFFileUrl}):Object(O.c)("/lottie-download",A({download:1,url:this.lFFileUrl,height:"gif"===t.format?t.size.height:1500,width:"gif"===t.format?t.size.width:1500,format:t.format},"gif"===t.format&&{transparent:1})),this.downloadFile(o,t)}catch(t){this.isLoading=null,console.error(t),this.onError()}},downloadBrandLottie(t){try{var e=this.$store.getters["brandPalettes/selectedPalette"].colors,o=Object(O.c)("https://brand-color.services.iconscout.com",{url:this.item.urls.original,brand_colors:e});if("json"===t.format)this.downloadFile(o,t);else{var n=Object(O.c)("/lottie-download",A({name:"".concat(this.item?this.item.name:"Animation",".").concat(t.format),download:1,url:o,height:1500,width:1500,format:t.format},"gif"===t.format&&{transparent:1}));this.downloadFile(n,t)}}catch(t){this.isLoading=null,console.error(t),this.onError()}},downloadFile(t,e){if(["gif","mp4"].includes(e.format))try{o.e(38).then(o.bind(null,2671)).then((n=>{n.executeOnce({worker:this.$worker.initDownloadManager,message:{url:t,name:"".concat(this.item?this.item.name:"Animation",".").concat(e.format),options:e},onResponse:t=>{var{blob:e,name:n,options:r,error:l}=t.data;l?this.onError():Promise.resolve().then(o.t.bind(null,1323,7)).then((t=>{t.saveAs(e,n),this.lFFileUrl||this.preDownload(A(A({},r),{},{canBeBranded:!0,page:"PLP",url:!0,location:"product-template"})),this.isLoading=null}))}})}))}catch(t){console.error(t),this.isLoading=null,this.onError()}else fetch(t).then((t=>t.blob())).then((t=>{var o=window.URL.createObjectURL(t),a=document.createElement("a");a.style.display="none",a.href=o,a.download="".concat(this.item?this.item.name:"Animation",".").concat(e.format),document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(o),this.lFFileUrl||this.preDownload(A(A({},e),{},{canBeBranded:!0,page:"PLP",url:!0,location:"product-template"})),this.isLoading=null,a.remove()})).catch((t=>{this.isLoading=null,console.error(t),this.onError()}))},downloadWatermarkPreview(t){if(this.handleAuth({trackAuth:()=>this.trackDownloadCTA({event:{name:"product-template",action:"download-btn",extraTrackingData:{format:t}},postAction:"auth"})})&&this.preWatermarkedDownload())try{this.isLoading=t,this.$analytics.track("download",{route_name:this.$route.name,route_path:this.$route.path,location:"product-template",action:"download-btn",data:A(A({},Object(k.a)(this,{item:this.item,canBranded:!0})),{},{list:this.trackListName,format:t,entity:_.a.CORE_ASSETS})});var e="mp4"===this.watermarkPreviewFormat?this.item.urls.thumb.replace("/thumb/","/preview-watermark/"):this.item.urls.thumb.replace("/thumb/","/preview/");f.a.saveAs(e,"".concat(this.item.name,".").concat(this.watermarkPreviewFormat));var n,r="download-asset";if(!this.$store.getters["checklist/getDoneChecklist"].includes(r))this.$store.dispatch("checklist/updateChecklistItem",r),this.$analytics.track("checklist",{route_name:this.$route.name,route_path:this.$route.path,action:r,data:{status:"completed",via:(null===(n=this.$route.query)||void 0===n?void 0:n.checklist)===r?"checklist":"exploration"}});this.$modal.open({id:"modalWatermarkDownloadCredit",component:o.e(410).then(o.bind(null,4392)),props:{item:this.item,url:this.creditUrl,selectedLicense:this.selectedLicense,productType:"item",preview:e},options:{modalOnModal:!0}}),setTimeout((()=>{this.isLoading=null}),1e3)}catch(t){this.isLoading=null,console.error(t)}},onError(t){var title=t||"Something went wrong please try again later or contact our support team";this.$root.$bvToast.toast(title,{title:title,variant:"danger",toaster:"b-toaster-bottom-center",solid:!1,noAutoHide:!0,bodyClass:"d-none"})},calculateHeight(t){return Math.round(t/this.aspectRatio)}}},W=U,H=o(3441);var X=Object(P.a)(W,(function(){var t,e=this,n=e._self._c;return n("b-modal",{attrs:{id:"modalDownloadImage","modal-class":["scale",e.$style.modal],"body-class":e.$style.modalBody,title:"".concat(e.item.name," ").concat(e.$tc("keywords.".concat(e.item.asset))),visible:"",centered:"","hide-footer":""},on:{hide:e.onClose}},[n("div",{attrs:{slot:"modal-header"},slot:"modal-header"},[n("h5",{staticClass:"modal-title d-flex align-items-center"},[e.canDownload?e._e():n("img",{staticClass:"mr-2",attrs:{src:o(1331),alt:"Crown",width:"16"}}),e._v(" "),n("span",{class:[e.canDownload?null:"text-truncate mx-2"]},[e._v("\n        "+e._s("".concat(e.item.name," ").concat(e.$tc("keywords.".concat(e.item.asset))))+"\n      ")])]),e._v(" "),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){return e.$modal.close("modalDownloadImage")}}},[e._v("\n      ×\n    ")])]),e._v(" "),n("div",{class:e.$style.wrapper},[n("div",{class:e.$style.items},[e.$fetchState.pending?[n("square",{attrs:{height:"77px",width:"100%"}}),e._v(" "),n("square",{attrs:{height:"77px",width:"100%"}}),e._v(" "),n("square",{attrs:{height:"77px",width:"100%"}})]:null!==(t=e.refinedFormats)&&void 0!==t&&t.length?n("div",{staticClass:"mx-3"},[e.item.price>0&&!e.hasPremiumSubscription&&!e.isBranded?n("div",{class:["py-4 px-3 d-flex justify-content-between align-items-center",e.$style.item]},[n("h3",{staticClass:"font-size-sm font-weight-normal text-secondary mb-0"},[e._v("\n            "+e._s(e.downloadButtonLabels("watermark-".concat(e.watermarkPreviewFormat),e.item.asset).button)+"\n            "),n("new-badge",{attrs:{label:"FREE",variant:"green"}})],1),e._v(" "),n("button",{class:["btn btn-primary btn-icon",e.isLoading==="watermark-".concat(e.watermarkPreviewFormat)?"ajax-loading-light disabled":null],attrs:{type:"button"},on:{click:function(t){return e.downloadWatermarkPreview("watermark-".concat(e.watermarkPreviewFormat))}}},[n("uil-import")],1)]):e._e(),e._v(" "),e._l(e.refinedFormats,(function(t,o){var r;return["png"===t?n("div",{key:"png-".concat(o),class:["py-2-5",e.$style.item]},[n("button",{class:["btn btn-sm btn-block d-flex px-3 py-4 align-items-center justify-content-between",e.$style.whiteButton],attrs:{type:"button"},on:{click:function(t){e.expandSizes=!e.expandSizes}}},[n("div",[n("span",{staticClass:"d-inline-block mr-2-5"},[e._v("\n                  "+e._s(e.downloadButtonLabels("png",e.item.asset).button)+"\n                ")]),e._v(" "),"png"!==e.isLoading&&e.downloadButtonLabels("png",e.item.asset).badge?n("new-badge",{attrs:{label:e.downloadButtonLabels("png",e.item.asset).badge,variant:"green"}}):e._e()],1),e._v(" "),n("uil-angle-down",{staticClass:"mx-3",attrs:{size:"24"}})],1),e._v(" "),n("slide-y-up-transition",[e.expandSizes?n("div",{class:["px-4 py-3",e.$style.downloadOptions]},[n("div",{class:["row sm-gutters",e.$style.sizesDiv]},[e._l(e.pngSizes,(function(t,o){return n("div",{key:"size-".concat(t),staticClass:"col-4"},[n("button",{class:["btn btn-default btn-sm w-100",e.isLoading==="png-".concat(o)?"ajax-loading-light disabled":null,,e.$style.sizeBtn],attrs:{disabled:e.isLoading==="png-".concat(o),type:"button"},on:{click:function(n){e.onDownload({format:"png",size:{width:t,height:e.calculateHeight(t)}},o)}}},[e._v("\n                      "+e._s(t)+" x "+e._s(e.calculateHeight(t))+"\n                    ")])])})),e._v(" "),n("div",{staticClass:"col-4"},[n("button",{class:["btn btn-default btn-sm w-100",e.$style.sizeBtn],attrs:{type:"button"},on:{click:function(t){e.showCustomSize=!e.showCustomSize}}},[e._v("\n                      Custom\n                    ")])])],2),e._v(" "),e.showCustomSize?n("custom-size-input",{attrs:{"loading-format":e.isLoading,"aspect-ratio":e.aspectRatio,format:"png"},on:{download:function(t){return e.onDownload(t)}}}):e._e()],1):e._e()])],1):"gif"===t?n("div",{key:"gif-".concat(o),class:["py-2-5",e.$style.item]},[n("button",{class:["btn btn-sm btn-block d-flex px-3 py-4 align-items-center justify-content-between",e.$style.whiteButton],attrs:{type:"button"},on:{click:function(t){e.expandSizes=!e.expandSizes}}},[n("div",[n("span",{staticClass:"d-inline-block mr-2-5"},[e._v("\n                  "+e._s(e.downloadButtonLabels("gif",e.item.asset).button)+"\n                ")]),e._v(" "),"gif"!==e.isLoading&&e.downloadButtonLabels("gif",e.item.asset).badge?n("new-badge",{attrs:{label:e.downloadButtonLabels("gif",e.item.asset).badge,variant:"green"}}):e._e()],1),e._v(" "),n("uil-angle-down",{staticClass:"mx-3",attrs:{size:"24"}})],1),e._v(" "),n("slide-y-up-transition",[e.expandSizes?n("div",{class:["px-4 py-3",e.$style.downloadOptions]},[n("div",{class:["row sm-gutters",e.$style.sizesDiv]},[e._l(e.gifSizes,(function(t,o){return n("div",{key:"size-".concat(t),staticClass:"col-4"},[n("button",{class:["btn btn-default btn-sm w-100",e.isLoading==="gif-".concat(o)?"ajax-loading-light disabled":null,,e.$style.sizeBtn],attrs:{disabled:e.isLoading==="gif-".concat(o),type:"button"},on:{click:function(n){e.onDownload({format:"gif",size:{width:t,height:e.calculateHeight(t)}},o)}}},[e._v("\n                      "+e._s(t)+" x "+e._s(e.calculateHeight(t))+"\n                    ")])])})),e._v(" "),n("div",{staticClass:"col-4"},[n("button",{class:["btn btn-default btn-sm w-100",e.$style.sizeBtn],attrs:{type:"button"},on:{click:function(t){e.showCustomSize=!e.showCustomSize}}},[e._v("\n                      Custom\n                    ")])])],2),e._v(" "),e.showCustomSize?n("custom-size-input",{attrs:{"loading-format":e.isLoading,"aspect-ratio":e.aspectRatio,format:"gif"},on:{download:function(t){return e.onDownload(t)}}}):e._e()],1):e._e()])],1):"zip"!==t||e.isBrandedLottie?n("div",{key:o,class:["py-4 px-3 d-flex justify-content-between align-items-center",e.$style.item]},[n("h3",{staticClass:"font-size-sm font-weight-normal text-secondary mb-0"},[e._v("\n              "+e._s(e.downloadButtonLabels(t,e.item.asset).button)+"\n              "),e.downloadButtonLabels(t,e.item.asset).badge?n("new-badge",{attrs:{label:e.downloadButtonLabels(t,e.item.asset).badge,variant:"green"}}):!e.isBranded||null!==(r=e.brandedFormats)&&void 0!==r&&r.includes(t)?e._e():n("new-badge",{attrs:{label:"ORIGINAL",variant:"green"}})],1),e._v(" "),n("button",{class:["btn btn-primary btn-icon",e.isLoading===t?"ajax-loading disabled":null],attrs:{type:"button"},on:{click:function(o){return e.onDownload({format:t})}}},[n("uil-import")],1)]):n("div",{key:"zip-".concat(o),staticClass:"d-flex justify-content-between align-items-center py-4 px-3"},[n("h3",{staticClass:"font-size-sm font-weight-normal text-secondary"},[e._v("\n              Download all (Zip)\n            ")]),e._v(" "),n("button",{class:["btn btn-primary has-icon","zip"===e.isLoading?"ajax-loading disabled":null],attrs:{type:"button"},on:{click:function(t){return e.onDownload({format:"zip"})}}},[n("span",{staticClass:"mr-2-5"},[e._v("Download all")]),e._v(" "),n("uil-import")],1)])]}))],2):e._e()],2)]),e._v(" "),n("download-hook",{attrs:{item:e.item}})],1)}),[],!1,(function(t){this.$style=H.default.locals||H.default}),null,null);e.default=X.exports}}]);
